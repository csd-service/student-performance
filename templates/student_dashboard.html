<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thanh điều hướng với menu thả xuống khi nhấp</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='student_style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Add these footer styles to your existing styles */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        .container {
            max-width: 1170px;
            margin: auto;
            padding: 0 15px;
        }
        
        .row {
            display: flex;
            flex-wrap: wrap;
        }
        
        .footer {
            background-color: #24262b;
            padding: 40px 0;
            margin-top: 30px;
            width: 100%;
            position: relative;
            bottom: 0;
        }
        
        .footer-col {
            width: 25%;
            padding: 0 20px;
        }
        
        .footer-col h4 {
            font-size: 16px;
            color: #ffffff;
            text-transform: capitalize;
            margin-bottom: 25px;
            font-weight: 500;
            position: relative;
        }
        
        .footer-col ul {
            list-style: none;
            padding: 0;
        }
        
        .footer-col ul li a {
            font-size: 14px;
            text-transform: capitalize;
            color: #bbbbbb;
            text-decoration: none;
            font-weight: 300;
            display: inline-block;
            margin-bottom: 8px;
            transition: all 0.3s ease;
        }
        
        .footer-col ul li a:hover {
            color: #ffffff;
            padding-left: 8px;
        }
        
        .footer-col .social-links a {
            display: inline-block;
            height: 35px;
            width: 35px;
            background-color: rgba(228, 20, 217, 0.2);
            margin-right: 10px;
            text-align: center;
            line-height: 35px;
            border-radius: 50%;
            color: #cfe411;
            transition: all 0.5s ease;
        }
        
        .footer-col .social-links a:hover {
            color: #24262b;
            background-color: #ffffff;
        }
        
        @media(max-width: 767px) {
            .footer-col {
                width: 50%;
                margin-bottom: 25px;
            }
        }
        
        @media(max-width: 574px) {
            .footer-col {
                width: 100%;
                margin-bottom: 20px;
                padding: 0 10px;
            }
        }
        
        /* Ensure main content doesn't overlap with footer */
        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .content-wrapper {
            flex: 1;
        }
        .footer .row {
            display: flex;
            justify-content: space-around; /* Changed from space-between to space-around */
            flex-wrap: nowrap;
            gap: 30px; /* Added gap between columns */
            padding: 0 40px; /* Added horizontal padding */
        }
        
        .footer-col {
            width: 22%; /* Slightly reduced from 25% to account for gap */
            padding: 0 15px;
            flex-shrink: 0;
            min-width: 200px; /* Added minimum width */
        }
        
        .footer-col h4 {
            margin-bottom: 35px; /* Increased bottom margin */
            font-size: 18px; /* Increased font size */
        }
        
        .footer-col ul li {
            margin-bottom: 15px; /* Increased spacing between list items */
        }
        
        .social-links {
            display: flex;
            gap: 15px; /* Added gap between social icons */
            margin-top: 20px; /* Added top margin */
        }
        
        @media(max-width: 992px) {
            .footer .row {
                gap: 20px;
                padding: 0 20px;
            }
        }
        
        @media(max-width: 768px) {
            .footer .row {
                flex-wrap: wrap;
                justify-content: flex-start;
            }
            .footer-col {
                width: 45%;
                margin-bottom: 30px;
            }
        }
        
        @media(max-width: 574px) {
            .footer-col {
                width: 100%;
            }
        }

        /* Chat Box Styles */
        .chat-box {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 350px;
            padding: 20px;
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
            display: none;
            z-index: 1000;
        }

        .chat-box h2 {
            text-align: center;
            margin-bottom: 20px;
            color: #333;
            font-size: 1.2rem;
        }

        .chat-box label {
            display: block;
            margin-bottom: 5px;
            color: #555;
        }

        .chat-box input,
        .chat-box textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 3px;
            box-sizing: border-box;
            margin-bottom: 15px;
        }

        .chat-box textarea {
            height: 100px;
            resize: vertical;
        }

        .chat-box .button-container {
            text-align: center;
        }

        .chat-box .button-container button {
            padding: 10px 20px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            margin-right: 10px;
            transition: all 0.3s ease;
        }

        .chat-box .button-container button:first-child {
            background-color: #ccc;
        }

        .chat-box .button-container button:last-child {
            background-color: #007bff;
            color: #fff;
        }

        .chat-box .button-container button:hover {
            opacity: 0.8;
            transform: translateY(-2px);
        }

        #chat-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            background-color: #007bff;
            color: #fff;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 999;
            transition: all 0.3s ease;
        }

        #chat-button:hover {
            background-color: #0056b3;
            transform: translateY(-2px);
        }

        #chat-button i {
            margin-right: 8px;
        }

        #missionContent, #visionContent {
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        #missionContent h1, #visionContent h1 {
            color: #0066cc;
            margin-bottom: 2rem;
            text-align: center;
            font-size: 2.5rem;
        }

        #missionContent ul, #visionContent ul {
            margin-left: 2rem;
            margin-top: 1rem;
        }

        #missionContent li, #visionContent li {
            margin-bottom: 1rem;
            color: #444;
        }
        /* Add these new styles for mission and vision sections */
        #missionContent, #visionContent {
            padding: 3rem;
            max-width: 1200px;
            margin: 2rem auto;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        #missionContent h1, #visionContent h1 {
            color: #0066cc;
            font-size: 2.8rem;
            text-align: center;
            margin-bottom: 2rem;
            font-weight: 700;
            position: relative;
            padding-bottom: 1rem;
        }

        #missionContent h1::after, #visionContent h1::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: linear-gradient(90deg, #0066cc, #3399ff);
            border-radius: 2px;
        }

        .mission-vision-content {
            max-width: 800px;
            margin: 0 auto;
            font-size: 1.1rem;
            line-height: 1.8;
            color: #444;
        }

        .mission-vision-content p {
            margin-bottom: 2rem;
            text-align: center;
            font-size: 1.2rem;
            color: #666;
        }

        .mission-vision-content ul {
            list-style-type: none;
            padding: 0;
            margin: 2rem 0;
        }

        .mission-vision-content li {
            margin-bottom: 1.2rem;
            padding-left: 2rem;
            position: relative;
            font-size: 1.1rem;
            color: #555;
        }

        .mission-vision-content li::before {
            content: '•';
            color: #0066cc;
            font-size: 1.5rem;
            position: absolute;
            left: 0;
            top: -0.2rem;
        }

        @media (max-width: 768px) {
            #missionContent, #visionContent {
                padding: 2rem;
                margin: 1rem;
            }

            #missionContent h1, #visionContent h1 {
                font-size: 2rem;
            }

            .mission-vision-content {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="content-wrapper">
        <div class="ribbon">
            <!-- Logo -->
            <div class="logo">
                <img src="{{ url_for('static', filename='images/VTU.png') }}" alt="Logo">
                <span>TRÌNH PHÂN TÍCH THÀNH TÍCH HỌC SINH</span>
            </div>

            <!-- Navigation -->
            <ul>
                <li>
                    <a onclick="showContent('home', this)">Trang chủ</a>
                </li>
                <li>
                    <a onclick="toggleDropdown('about', this)">Giới thiệu <span class="arrow">▼</span></a>
                    <div id="about" class="dropdown">
                        <a onclick="showMission()">Sứ mệnh</a>
                        <a onclick="showVision()">Tầm nhìn</a>
                        <div class="role-buttons">
                            <a href="{{ url_for('auth.teacher') }}" class="role-btn">Thông tin giảng viên</a>
                        </div>
                    </div>
                </li>
                <li>
                    <a onclick="toggleDropdown('attendance', this)">Điểm danh <span class="arrow">▼</span></a>
                    <div id="attendance" class="dropdown">
                        <a href="#" onclick="checkAttendanceData(1); return false;">Học kỳ 1</a>
                        <a href="#" onclick="checkAttendanceData(2); return false;">Học kỳ 2</a>
                        <a href="#" onclick="checkAttendanceData(3); return false;">Học kỳ 3</a>
                        <a href="#" onclick="checkAttendanceData(4); return false;">Học kỳ 4</a>
                        <a href="#" onclick="checkAttendanceData(5); return false;">Học kỳ 5</a>
                        <a href="#" onclick="checkAttendanceData(6); return false;">Học kỳ 6</a>
                        <a href="#" onclick="checkAttendanceData(7); return false;">Học kỳ 7</a>
                        <a href="#" onclick="checkAttendanceData(8); return false;">Học kỳ 8</a>
                    </div>
                </li>
                <li>
                    <a onclick="toggleDropdown('performance', this)">Hiệu suất <span class="arrow">▼</span></a>
                    <div id="performance" class="dropdown">
                        <a href="#" onclick="checkSemesterData(1); return false;">Học kỳ 1</a>
                        <a href="#" onclick="checkSemesterData(2); return false;">Học kỳ 2</a>
                        <a href="#" onclick="checkSemesterData(3); return false;">Học kỳ 3</a>
                        <a href="#" onclick="checkSemesterData(4); return false;">Học kỳ 4</a>
                        <a href="#" onclick="checkSemesterData(5); return false;">Học kỳ 5</a>
                        <a href="#" onclick="checkSemesterData(6); return false;">Học kỳ 6</a>
                        <a href="#" onclick="checkSemesterData(7); return false;">Học kỳ 7</a>
                        <a href="#" onclick="checkSemesterData(8); return false;">Học kỳ 8</a>
                    </div>
                </li>
                <li>
                    <a onclick="toggleDropdown('solutions', this)">Giải pháp <span class="arrow">▼</span></a>
                    <div id="solutions" class="dropdown">
                        <a href="https://vtucode.in/#" target="_blank">Ghi chú</a>
                        <a href="https://www.guvi.in/blog/projects-for-developers-and-computer-science-students/" target="_blank">Dự án</a>
                        <a href="https://chennai.vit.ac.in/computer-science-certification-courses/" target="_blank">Khóa học</a>
                        <a href="https://chennai.vit.ac.in/computer-science-certification-courses/" target="_blank">Bài tập</a>
                    </div>
                </li>
            <li>
                <a href="{{ url_for('auth.logout') }}" class="logout-btn">Đăng xuất</a>
            </li>
            </ul>
        </div>

        <!-- Add new content sections -->
        <div id="mainContent">
            <div id="homeContent" class="content-section">
                <div class="container">
                    <div class="text-content">
                      <h2>Phân tích hiệu suất học sinh</h2>
                      <p>Theo dõi tốc độ, thay đổi phạm vi, phân tích các loại hiệu suất khác nhau và hơn thế nữa.</p>

                    </div>
                    <div class="image-content">
                      <img src="{{ url_for('static', filename='images/nn.webp') }}" alt="Dashboard">
                    </div>
                    
                  </div>
                  <h1>Xem xét điểm danh, điểm số, kết quả thi của học sinh và nhiều hơn nữa</h1>
                  <p>
                      Bảng điều khiển này cho phép người xem theo dõi số lượng học sinh bằng cách ghi chú tổng số học sinh và tỷ lệ điểm danh của họ. <br>
                      Biểu đồ cột “Kết quả thi theo ngành” hiển thị kết quả thi của học sinh theo môn học. Ngoài ra, người dùng có thể theo dõi điểm trung bình cho mỗi môn học.
                  </p>
                  <p>
                      Màn hình chính của tiện ích “Số lượng học sinh theo khối lớp và giới tính” hiển thị 
                    tổng số học sinh của từng khối lớp.<br>
                    Tuy nhiên, vì biểu đồ hình tròn này sử dụng tính năng phân tích nhiều cấp (multi-level drill-down), 
                    nên khi nhấp vào một cột trên màn hình chính, bạn sẽ thấy thêm thông tin — 
                    trong trường hợp này là số lượng học sinh nam và nữ của từng khối lớp.<br>
                    Dữ liệu còn có thể được phân tích sâu hơn: khi nhấp vào từng phần của biểu đồ theo khối lớp, 
                    bạn sẽ xem được số lượng học sinh theo giới tính.
                  </p>
                  <p>
                      Cuối cùng, tiện ích “Chi tiết học sinh” có thể giúp theo dõi các dữ liệu của học sinh như họ tên, giới tính, khối lớp, GPA, điểm trung bình và tỷ lệ chuyên cần.
                  </p>
            
                  <h1>Lọc dữ liệu của bạn</h1>
                  <p>
                    Một tính năng quan trọng khác của bảng điều khiển này là tính linh hoạt của nó. 
                    Bằng cách sử dụng các bộ lọc dạng danh sách thả xuống “Chọn Năm” và “Chọn Khối lớp”, 
                    người xem có thể tùy chỉnh bảng điều khiển để hiển thị dữ liệu cho bất kỳ 
                    kết hợp nào của năm và khối lớp.<br>
                    Ví dụ, người xem có thể xem số liệu cho tất cả học sinh từ lớp 1–5 trong năm 2019. 
                    Tương tự, họ cũng có thể chỉ hiển thị dữ liệu cho học sinh lớp 3 trong năm 2019.
                  </p>
                  <p>
                      Ngoài ra, người dùng cũng có thể đặt lại các bộ lọc bằng cách nhấp vào các biểu tượng hình phễu ở góc trên bên phải của các widget hộp danh sách thả xuống.<br> Nếu cả hai bộ lọc
                      được đặt lại để không chọn năm và khối lớp cụ thể, chúng ta sẽ thấy số liệu tổng thể cho tất cả học sinh trong tất cả các năm mà chúng ta có dữ liệu.
                  </p>
                  <p>
                      Như đã trình bày ở trên, người dùng có thể áp dụng các bộ lọc này cho bất kỳ bảng điều khiển nào hiển thị dữ liệu theo thời gian hoặc cho các nhóm riêng biệt, đã được xác định. <br>Như có thể thấy,
                      điều này có thể đặc biệt hữu ích cho việc xem xét các xu hướng theo thời gian. <br>Ví dụ, với bảng điều khiển này, chúng ta có thể theo dõi số lượng đăng ký, điểm danh và kết quả thi
                      trong một khoảng thời gian ba năm.
                  </p>
                  <h1>Các mẫu bảng điều khiển giáo dục</h1>
                  <div class="container">
                  
                    <div class="cards">
                        <div class="card">
                            <img src="{{ url_for('static', filename='images/STD4.webp') }}" alt="School Performance Dashboard">
                            <div class="card-content">
                                <h2 class="card-title">Bảng điều khiển hiệu suất trường học</h2>
                                <p class="card-description">
                                    Bảng điều khiển hiệu suất trường học của Bold BI cung cấp cái nhìn tổng quan về các chỉ số quản lý trường học. Với bảng điều khiển này, các quản trị viên...
                                </p>
                            </div>
                            <div class="card-footer">
                                <a href="#">Tìm hiểu thêm</a>
                                <a href="#">Xem bảng điều khiển</a>
                            </div>
                        </div>
                        <div class="card">
                            <img src="{{ url_for('static', filename='images/STD2.jpg') }}" alt="Higher Education Enrollment and Retention Dashboard">
                            <div class="card-content">
                                <h2 class="card-title">Bảng điều khiển tuyển sinh và duy trì giáo dục đại học</h2>
                                <p class="card-description">
                                    Bảng điều khiển tổng quan giáo dục đại học của Bold BI cung cấp cái nhìn tổng quan về dữ liệu sinh viên chính. Với bảng điều khiển tuyển sinh này, các quản trị viên...
                                </p>
                            </div>
                            <div class="card-footer">
                                <a href="#">Tìm hiểu thêm</a>
                                <a href="#">Xem bảng điều khiển</a>
                            </div>
                            
                        </div>
                        <div class="card">
                            <img src="{{ url_for('static', filename='images/STD2.jpg') }}" alt="Higher Education Enrollment and Retention Dashboard">
                            <div class="card-content">
                                <h2 class="card-title">Bảng điều khiển tuyển sinh và duy trì giáo dục đại học</h2>
                                <p class="card-description">
                                    Bảng điều khiển tổng quan giáo dục đại học của Bold BI cung cấp cái nhìn tổng quan về dữ liệu sinh viên chính. Với bảng điều khiển tuyển sinh này, các quản trị viên...
                                </p>
                            </div>
                            <div class="card-footer">
                                <a href="#">Tìm hiểu thêm</a>
                                <a href="#">Xem bảng điều khiển</a>
                            </div>
                    </div>
                </div>
            </div>
            </div>

            <div id="missionContent" class="content-section" style="display: none;">
                <h1>Sứ Mệnh Của Chúng Tôi</h1>
                <div class="mission-vision-content">
                    <p>
                        Để trao quyền cho giáo viên và học sinh với những hiểu biết dựa trên dữ liệu nhằm nâng cao trải nghiệm học tập
                        và cải thiện kết quả học tập thông qua phân tích đổi mới và theo dõi hiệu suất.
                    </p>
                    <ul>
                        <li>Cung cấp các công cụ theo dõi hiệu suất toàn diện để quản lý học tập tốt hơn</li>
                        <li>Cho phép ra quyết định dựa trên dữ liệu trong giáo dục thông qua phân tích nâng cao</li>
                        <li>Tạo điều kiện giao tiếp liền mạch giữa giáo viên và học sinh</li>
                        <li>Hỗ trợ cải thiện liên tục thành tích học tập thông qua các phân tích chuyên sâu</li>
                        <li>Giúp việc phân tích kết quả học tập trở nên dễ tiếp cận và dễ hiểu cho tất cả người dùng</li>
                        <li>Nuôi dưỡng văn hóa xuất sắc thông qua cách tiếp cận dựa trên dữ liệu</li>
                    </ul>
                </div>
            </div>
    
            <div id="visionContent" class="content-section" style="display: none;">
                <h1>Tầm nhìn của chúng tôi</h1>
                <div class="mission-vision-content">
                    <p>
                        Cách mạng hóa việc đánh giá và theo dõi thành tích học tập bằng cách tạo ra một nền tảng thông minh, 
                        liền mạch, giúp cả giáo viên và học sinh chủ động phát huy tiềm năng.
                    </p>
                    <ul>
                        <li>Chuyển đổi dữ liệu học tập thô thành những hiểu biết có thể hành động để ra quyết định tốt hơn</li>
                        <li>Tạo ra những trải nghiệm học tập cá nhân hóa thông qua phân tích dữ liệu</li>
                        <li>Xây dựng một hệ sinh thái hợp tác cho sự xuất sắc trong giáo dục</li>
                        <li>Đặt ra các tiêu chuẩn mới trong công nghệ giáo dục và đánh giá</li>
                        <li>Cho phép phân tích dự đoán để hỗ trợ học tập chủ động</li>
                        <li>Thúc đẩy đổi mới trong các phương pháp đánh giá giáo dục</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Footer Section -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="footer-col">
                    <h4>Dịch vụ Web</h4>
                    <ul>
                        <li><a href="#">Giới thiệu</a></li>
                        <li><a href="#">Dịch vụ của chúng tôi</a></li>
                        <li><a href="#">Chính sách bảo mật</a></li>
                        <li><a href="#">Chương trình liên kết</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Hỗ trợ</h4>
                    <ul>
                        <li><a href="#">Câu hỏi thường gặp</a></li>
                        <li><a href="#">Tài liệu</a></li>
                        <li><a href="#">Hiệu suất</a></li>
                        <li><a href="#">Định tuyến</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Liên hệ với chúng tôi</h4>
                    <ul>
                        <li><a href="#">7483673004</a></li>
                        <li><a href="#">805075574</a></li>
                        <li><a href="#">9141980994</a></li>
                        <li><a href="#">8431284881</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Theo dõi chúng tôi</h4>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <button id="chat-button">
        <i class="fas fa-comment"></i> Chat-Box
    </button>

    <div id="chat-box" class="chat-box">
        <h2>Chia sẻ phản hồi của bạn về việc giảng dạy tại đây</h2>
        <form id="feedback-form">
            <label for="name">Họ và tên:</label>
            <input type="text" id="name" name="name" placeholder="Nhập họ và tên của bạn" required>
            
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" placeholder="Nhập email của bạn" required>
            
            <label for="SEM">SEM:</label>
            <input type="text" id="SEM" name="SEM" placeholder="Nhập SEM của bạn" required>

            <label for="feed-back">Phản hồi:</label>
            <textarea id="feed-back" name="feed-back" rows="5" placeholder="Nhập phản hồi của bạn tại đây" required></textarea>

            <div class="button-container">
                <button type="reset">Đặt lại</button>
                <button type="submit">Gửi</button>
            </div>
        </form>
    </div>

    <script>
        // Show content dynamically and hide dropdowns for other sections
        function showContent(section) {
            const dropdowns = document.querySelectorAll('.dropdown, .nested-dropdown');
            const content = document.getElementById('content');

            // Hide all dropdowns
            dropdowns.forEach(dropdown => dropdown.style.display = "none");

            if (section === 'home') {
                content.innerHTML = `
                    <h1>Welcome to the Student Performance Analyzer</h1>
                    <p>Explore the tool to track attendance and analyze academic performance by year and semester.</p>
                `;
            }
        }

        function showMission() {
            const content = document.getElementById('content');
            content.innerHTML = `
                <h1>Our Mission</h1>
                <p>To provide insightful data to help students and educators improve academic outcomes.</p>
            `;
        }

        function toggleDropdown(id) {
            const dropdown = document.getElementById(id);
            dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
        }

        function toggleNestedDropdown(id) {
            const nestedDropdown = document.getElementById(id);
            nestedDropdown.style.display = nestedDropdown.style.display === "block" ? "none" : "block";
            function toggleDropdown(id) {
    // Close all dropdowns except the clicked one
    const dropdowns = document.querySelectorAll('.dropdown, .nested-dropdown');
    dropdowns.forEach(dropdown => {
        if (dropdown.id !== id) {
            dropdown.style.display = "none";
        }
    });

    // Toggle the clicked dropdown
    const dropdown = document.getElementById(id);
    dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
}

function toggleNestedDropdown(id) {
    // Close all nested dropdowns except the clicked one
    const nestedDropdowns = document.querySelectorAll('.nested-dropdown');
    nestedDropdowns.forEach(nested => {
        if (nested.id !== id) {
            nested.style.display = "none";
        }
    });

    // Toggle the clicked nested dropdown
    const nestedDropdown = document.getElementById(id);
    nestedDropdown.style.display = nestedDropdown.style.display === "block" ? "none" : "block";
}

        }
    </script>
    <script>
        // Function to show content and close all dropdowns
        function showContent(section) {
            hideAllContent();
            closeAllDropdowns();

            if (section === 'home') {
                document.getElementById('homeContent').style.display = 'block';
            }
        }
        
        // Function to show mission content
        function showMission() {
            hideAllContent();
            closeAllDropdowns();
            document.getElementById('missionContent').style.display = 'block';
        }
        
        // Function to show vision content
        function showVision() {
            hideAllContent();
            closeAllDropdowns();
            document.getElementById('visionContent').style.display = 'block';
        }
        
        // Function to close all dropdowns
        function closeAllDropdowns() {
            const dropdowns = document.querySelectorAll('.dropdown, .nested-dropdown');
            dropdowns.forEach(dropdown => dropdown.style.display = "none");
        }
        
        // Toggle a dropdown while closing others
        function toggleDropdown(id) {
            closeAllDropdowns();
            const dropdown = document.getElementById(id);
            dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
        }
         // Carousel functionality
         let currentIndex = 0;
        let images;

        function initCarousel() {
            images = document.querySelectorAll('.carousel img');
            showSlide(currentIndex);
            setInterval(() => changeSlide(1), 5000); // Auto-slide every 5 seconds
        }

        function showSlide(index) {
            images.forEach((img, i) => {
                img.classList.remove('active');
                if (i === index) img.classList.add('active');
            });
        }

        function changeSlide(direction) {
            currentIndex = (currentIndex + direction + images.length) % images.length;
            showSlide(currentIndex);
        }

        // Initialize carousel on page load
        window.onload = initCarousel;

        // Remaining JavaScript code is unchanged
        
        async function checkSemesterData(semester) {
            // Show loading indicator
            const loadingDiv = document.createElement('div');
            loadingDiv.id = 'loading';
            loadingDiv.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: white;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 1000;
            `;
            loadingDiv.textContent = 'Checking semester data...';
            document.body.appendChild(loadingDiv);

            try {
                const response = await fetch(`/check_semester/${semester}`);
                const data = await response.json();
                
                if (data.status === 'success') {
                    if (data.has_data) {
                        window.location.href = `/student_analysis/${semester}`;
                    } else {
                        alert(`No data available for Semester ${semester}. Please contact your administrator.`);
                    }
                } else {
                    alert(data.message || 'Error checking semester data');
                }
            } catch (err) {
                alert('Failed to check semester data. Please try again.');
                console.error('Error:', err);
            } finally {
                // Remove loading indicator
                document.getElementById('loading').remove();
            }
        }

        async function checkAttendanceData(semester) {
            const loadingDiv = document.createElement('div');
            loadingDiv.id = 'loading';
            loadingDiv.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: white;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 1000;
            `;
            loadingDiv.textContent = 'Checking attendance data...';
            document.body.appendChild(loadingDiv);

            try {
                const response = await fetch(`/check_attendance/${semester}`);
                const data = await response.json();
                
                if (data.status === 'success') {
                    if (data.has_data) {
                        window.location.href = `/student_attendance/${semester}`;
                    } else {
                        alert(`No attendance data available for Semester ${semester}. Please contact your administrator.`);
                    }
                } else {
                    alert(data.message || 'Error checking attendance data');
                }
            } catch (err) {
                alert('Failed to check attendance data. Please try again.');
                console.error('Error:', err);
            } finally {
                document.getElementById('loading').remove();
            }
        }

        // Add to your existing script to handle dropdown toggling
        function toggleDropdown(id, element) {
            // Close all other dropdowns first
            const dropdowns = document.querySelectorAll('.dropdown');
            dropdowns.forEach(dropdown => {
                if (dropdown.id !== id && dropdown.style.display === "block") {
                    dropdown.style.display = "none";
                }
            });

            // Toggle the clicked dropdown
            const dropdown = document.getElementById(id);
            if (dropdown.style.display === "block") {
                dropdown.style.display = "none";
            } else {
                dropdown.style.display = "block";
            }
        }

        // Close dropdowns when clicking outside
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.dropdown') && !event.target.closest('a[onclick^="toggleDropdown"]')) {
                const dropdowns = document.querySelectorAll('.dropdown');
                dropdowns.forEach(dropdown => {
                    dropdown.style.display = "none";
                });
            }
        });

        // Chat Box Toggle
        document.getElementById("chat-button").addEventListener("click", function() {
            var chatBox = document.getElementById("chat-box");
            chatBox.style.display = chatBox.style.display === "none" ? "block" : "none";
        });

        // Update Form Submit Handler
        document.getElementById("feedback-form").addEventListener("submit", async function(e) {
            e.preventDefault();
            
            const formData = {
                name: document.getElementById("name").value,
                email: document.getElementById("email").value,
                semester: document.getElementById("SEM").value,
                feedback: document.getElementById("feed-back").value
            };

            try {
                const response = await fetch('/submit_feedback', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });

                const data = await response.json();
                
                if (data.status === 'success') {
                    alert(data.message);
                    this.reset();
                    document.getElementById("chat-box").style.display = "none";
                } else {
                    alert('Error: ' + data.message);
                }
            } catch (error) {
                alert('Error submitting feedback. Please try again.');
                console.error('Error:', error);
            }
        });
      
        </script>
        <script>
    // Add this new function
    function hideAllContent() {
        document.getElementById('homeContent').style.display = 'none';
        document.getElementById('missionContent').style.display = 'none';
        document.getElementById('visionContent').style.display = 'none';
        // Hide other sections if they exist
        const sections = document.querySelectorAll('.section-content');
        sections.forEach(section => {
            section.style.display = 'none';
            section.classList.remove('active');
        });
    }

    // Replace the existing showMission function
    function showMission() {
        hideAllContent();
        closeAllDropdowns();
        document.getElementById('missionContent').style.display = 'block';
    }

    // Replace the existing showVision function
    function showVision() {
        hideAllContent();
        closeAllDropdowns();
        document.getElementById('visionContent').style.display = 'block';
    }

    // Update the showContent function
    function showContent(section) {
        hideAllContent();
        closeAllDropdowns();
        if (section === 'home') {
            document.getElementById('homeContent').style.display = 'block';
        }
    }

    // Add this to ensure home content shows by default
    window.onload = function() {
        showContent('home');
    };

    // ...rest of your existing script code...
</script>
</body>
</html>